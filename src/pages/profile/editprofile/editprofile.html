<!--
  Generated template for the EditprofilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color= "navbar">
        <ion-title>
            <span class="twoline">Edit Profile</span>
        </ion-title>
        <ion-buttons end>
            <button ion-button icon-only color="white" (click)="onUpdate(updateForm)">
              <ion-icon name="checkmark"></ion-icon>
            </button>
          </ion-buttons>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher> 
    <div padding-top text-center>
         <div class="profilePict">
            
            <img class="profpic" src="assets/imgs/logo/usericon.png"  (click)="updatePicture()"  *ngIf="!tempProfPict">
            <img class="profpic" [src]="user?.userphoto" (click)="updatePicture()"  *ngIf="tempProfPict">
          <h6 (click)="updatePicture()">Ubah foto profile</h6>          

        </div> 
    </div>
    <ion-card padding-bottom padding-right>
        <form #updateForm="ngForm" novalidate>
            <ion-list no-lines>
              <ion-item>
                  <ion-label stacked color="primary">Email</ion-label>
                  <ion-input [(ngModel)]="user.email" disabled name="email" type="email" #email="ngModel" required >
                  </ion-input>
              </ion-item>
              <ion-item>
                <ion-label stacked color="primary">Nama Lengkap</ion-label>
                <ion-input [(ngModel)]="user.nama" name="nama" type="text" #nama="ngModel" required>
                </ion-input>
              </ion-item>
              <p ion-text [hidden]="nama.valid || submitted == false" color="danger" padding-left>
                Nama lengkap harus diisi
              </p>           
              <ion-item>
                <ion-label stacked color="primary">Alamat</ion-label>
                <ion-input [(ngModel)]="user.alamat" name="alamat" type="text" #alamat="ngModel" required>
                </ion-input>
              </ion-item>
              <p ion-text [hidden]="alamat.valid || submitted == false" color="danger" padding-left>
                Alamat harus diisi
              </p>
              <ion-item>
                <ion-label stacked color="primary">Nomor Handphone</ion-label>	
                <ion-input [(ngModel)]="user.nohp" type="tel" pattern="[0]{1}[0-9]{9}[0-9]{1,}" maxlength="15" placeholder="Nomor Handphone" name="nohp" #nohp="ngModel" required >
                </ion-input>
              </ion-item>
              <div [hidden]="nohp.valid || submitted == false" padding-left>
                <p ion-text color="danger" *ngIf="!user.nohp">Nomor telepon harus diisi</p>
                <p ion-text color="danger" *ngIf="user.nohp">Nomor telepon tidak valid</p>
              </div> 
            </ion-list>
          </form>
    </ion-card>     
        
</ion-content>
